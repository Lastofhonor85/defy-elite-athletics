<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Articles & News Hub</title>
  <link rel="stylesheet" href="../styles.css" />
  <style>
    body { background: #000; color: #fff; font-family: Arial, sans-serif; padding-bottom: 4rem; }
    h1, h2 { color: #09f; text-align: center; margin-top: 2rem; }
    ul { list-style: none; padding: 0; margin: 1rem auto; max-width: 800px; }
    li { margin: 0.5rem 0; }
    a { color: #0cf; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .feed-section { border-top: 1px solid #222; padding-top: 2rem; margin-top: 2rem; }
  </style>
</head>
<body>

  <!-- HEADER + NAV -->
  <header style="background: #111; padding: 1rem; text-align: center;">
    <a href="../index.html">
      <img src="../assets/logo1.png" alt="Defy Elite Athletics Logo" style="max-width: 180px;" />
    </a>
  </header>
  <nav style="background: #111; text-align: center; padding: 1rem;">
    <a href="../index.html" style="color: #fff; margin: 0 1rem;">Home</a>
    <a href="articles.html" style="color: #09f; margin: 0 1rem;">Articles</a>
    <a href="../services.html" style="color: #fff; margin: 0 1rem;">Services</a>
    <a href="../contact.html" style="color: #fff; margin: 0 1rem;">Contact</a>
    <a href="login.html" style="color: #fff; margin: 0 1rem;">Members</a>
  </nav>

  <h1>Articles & News Hub</h1>

  <!-- SECTION EXAMPLE -->
  <div class="feed-section">
    <h2>Golf & Performance Training</h2>
    <ul id="golf-performance-list"><li>Loading...</li></ul>
  </div>

  <div class="feed-section">
    <h2>Golf Industry News</h2>
    <ul id="golf-industry-list"><li>Loading...</li></ul>
  </div>

  <div class="feed-section">
    <h2>PGA & LPGA Tour Updates</h2>
    <ul id="pga-list"><li>Loading...</li></ul>
  </div>

  <script>
    async function loadFeed(proxyUrl, listId) {
      const ul = document.getElementById(listId);
      ul.innerHTML = "<li>Loadingâ€¦</li>";

      try {
        const resp = await fetch(proxyUrl);
        if (!resp.ok) throw new Error(resp.statusText);
        const text = await resp.text();
        const xml = new DOMParser().parseFromString(text, "text/xml");
        const items = xml.querySelectorAll("item, entry");
        ul.innerHTML = "";

        if (!items.length) throw new Error("No articles found");

        for (let i = 0; i < Math.min(8, items.length); i++) {
          const el = items[i];
          const title = el.querySelector("title")?.textContent || "No title";

          let link = "";
          const linkTag = el.querySelector("link");
          if (linkTag) {
            if (linkTag.getAttribute("href")) {
              link = linkTag.getAttribute("href");
            } else {
              link = linkTag.textContent;
            }
          }

          const li = document.createElement("li");
          li.innerHTML = `<a href="${link}" target="_blank" rel="noopener noreferrer">${title}</a>`;
          ul.appendChild(li);
        }
      } catch (err) {
        ul.innerHTML = `<li style="color: red;">Unable to load feed: ${err.message}</li>`;
      }
    }

    loadFeed("https://api.allorigins.win/raw?url=https://www.golfdigest.com/feed/rss", "golf-industry-list");
    loadFeed("https://api.allorigins.win/raw?url=https://www.pgatour.com/bin/data/feeds/content/feed/pga-tour/news.xml", "pga-list");
    loadFeed("https://api.allorigins.win/raw?url=https://golfweek.usatoday.com/feed/", "golf-performance-list");
  </script>
</body>
</html>
